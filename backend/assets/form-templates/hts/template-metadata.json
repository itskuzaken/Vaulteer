{
  "templateId": "doh-hts-2021-v2",
  "name": "DOH Personal Information Sheet (HTS Form 2021) - Enhanced OCR Mapping",
  "version": "2021-enhanced",
  "organization": "Department of Health (DOH) Philippines",
  "formTitle": "PERSONAL INFORMATION SHEET",
  "formSubtitle": "HIV TESTING",
  "pages": 2,
  "dimensions": {
    "width": 2480,
    "height": 3508,
    "dpi": 300,
    "format": "A4"
  },
  "structure": {
    "front": {
      "sections": [
        "INFORMED CONSENT",
        "PERSONAL INFORMATION SHEET (HTS FORM)",
        "DEMOGRAPHIC DATA",
        "EDUCATION & OCCUPATION"
      ]
    },
    "back": {
      "sections": [
        "HISTORY OF EXPOSURE / RISK ASSESSMENT",
        "REASONS FOR HIV TESTING",
        "PREVIOUS HIV TEST",
        "MEDICAL HISTORY & CLINICAL PICTURE",
        "TESTING DETAILS",
        "INVENTORY INFORMATION",
        "HTS PROVIDER DETAILS"
      ]
    }
  },
  "ocrMapping": {
    "coordinateSystem": "relative",
    "description": "Coordinates are relative (0-1 scale) for resolution independence",
    "front": {
      "page": 1,
      "fields": {
        "testDate": {
          "region": {
            "x": 0.225,
            "y": 0.417,
            "width": 0.183,
            "height": 0.01
          },
          "boundingBox": {
            "month": {
              "x": 0.065,
              "y": 0.13,
              "width": 0.04,
              "height": 0.025
            },
            "day": {
              "x": 0.11,
              "y": 0.13,
              "width": 0.04,
              "height": 0.025
            },
            "year": {
              "x": 0.155,
              "y": 0.13,
              "width": 0.06,
              "height": 0.025
            }
          },
          "label": "Test Date",
          "type": "date",
          "format": "MM/DD/YYYY",
          "required": true,
          "priority": 1,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.02,
            "y": 0.13,
            "text": "Test Date:"
          },
          "query": "What is the HIV test date at the top of the form?"
        },
        "philHealthNumber": {
          "region": {
            "x": 0.263,
            "y": 0.448,
            "width": 0.252,
            "height": 0.01
          },
          "label": "PhilHealth Number",
          "type": "text",
          "pattern": "^\\d{2}-\\d{9}-\\d$",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.02,
            "y": 0.165,
            "text": "PhilHealth Number:"
          },
          "query": "What is the 12-digit PhilHealth Number in format XX-XXXXXXXXX-X?",
          "relatedCheckbox": {
            "label": "Not enrolled in PhilHealth",
            "x": 0.52,
            "y": 0.165,
            "width": 0.015,
            "height": 0.015
          }
        },
        "philSysNumber": {
          "region": {
            "x": 0.283,
            "y": 0.473,
            "width": 0.126,
            "height": 0.011
          },
          "label": "PhilSys Number",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.02,
            "y": 0.195,
            "text": "PhilSys Number:"
          },
          "query": "What is the 16-digit PhilSys Number in the ID section, written as exactly 16 consecutive digits without dashes or spaces?",
          "relatedCheckbox": {
            "label": "No PhilSys Number",
            "x": 0.52,
            "y": 0.195,
            "width": 0.015,
            "height": 0.015
          }
        },
        "firstName": {
          "region": {
            "x": 0.189,
            "y": 0.508,
            "width": 0.043,
            "height": 0.011
          },
          "label": "First Name",
          "type": "text",
          "required": true,
          "priority": 1,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.225,
            "text": "First Name"
          },
          "query": "What is the patient's first name?"
        },
        "middleName": {
          "region": {
            "x": 0.415,
            "y": 0.508,
            "width": 0.043,
            "height": 0.011
          },
          "label": "Middle Name",
          "type": "text",
          "required": false,
          "priority": 2,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.32,
            "y": 0.225,
            "text": "Middle Name"
          },
          "query": "What is the patient's middle name only, not including the words 'Middle Name'?"
        },
        "lastName": {
          "region": {
            "x": 0.639,
            "y": 0.51,
            "width": 0.031,
            "height": 0.011
          },
          "label": "Last Name",
          "type": "text",
          "required": true,
          "priority": 1,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.59,
            "y": 0.225,
            "text": "Last Name"
          },
          "query": "What is the patient's last name?"
        },
        "suffix": {
          "region": {
            "x": 0.826,
            "y": 0.511,
            "width": 0.021,
            "height": 0.01
          },
          "label": "Suffix",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.89,
            "y": 0.225,
            "text": "Suffix (Jr, Sr, III, etc)"
          },
          "query": "What is the patient's name suffix such as Jr, Sr, III, or IV?"
        },
        "parentalCode": {
          "region": {
            "x": 0.22,
            "y": 0.55,
            "width": 0.031,
            "height": 0.009
          },
          "label": "Parental Code - Mother's First Name (First 2 letters)",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.02,
            "y": 0.275,
            "text": "First 2 letters of mother's FIRST name"
          },
          "query": "What are the first 2 letters of mother's first name?"
        },
        "parentalCodeFather": {
          "region": {
            "x": 0.433,
            "y": 0.551,
            "width": 0.029,
            "height": 0.008
          },
          "label": "Parental Code - Father's First Name (First 2 letters)",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.45,
            "y": 0.275,
            "text": "First 2 letters of father's FIRST name"
          },
          "query": "What are the first 2 letters of father's first name?"
        },
        "birthOrder": {
          "region": {
            "x": 0.714,
            "y": 0.554,
            "width": 0.028,
            "height": 0.008
          },
          "label": "Birth Order",
          "type": "number",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.65,
            "y": 0.275,
            "text": "Birth order"
          },
          "query": "What is the birth order among mother's children?"
        },
        "birthDate": {
          "region": {
            "x": 0.282,
            "y": 0.576,
            "width": 0.125,
            "height": 0.011
          },
          "boundingBox": {
            "month": {
              "x": 0.12,
              "y": 0.305,
              "width": 0.04,
              "height": 0.025
            },
            "day": {
              "x": 0.165,
              "y": 0.305,
              "width": 0.04,
              "height": 0.025
            },
            "year": {
              "x": 0.21,
              "y": 0.305,
              "width": 0.06,
              "height": 0.025
            }
          },
          "label": "Birth Date",
          "type": "date",
          "format": "MM/DD/YYYY",
          "required": true,
          "priority": 1,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.02,
            "y": 0.305,
            "text": "Birth date:"
          },
          "query": "What is the patient's date of birth?"
        },
        "age": {
          "region": {
            "x": 0.493,
            "y": 0.578,
            "width": 0.027,
            "height": 0.009
          },
          "label": "Age",
          "type": "number",
          "required": true,
          "priority": 2,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.3,
            "y": 0.305,
            "text": "Age:"
          },
          "validation": {
            "min": 0,
            "max": 120,
            "computed": "birthDate"
          },
          "query": "What is the patient's age in years?"
        },
        "ageMonths": {
          "region": {
            "x": 0.831,
            "y": 0.58,
            "width": 0.031,
            "height": 0.011
          },
          "label": "Age in Months (for less than 1 year old)",
          "type": "number",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.42,
            "y": 0.305,
            "text": "Age in months:"
          },
          "validation": {
            "min": 0,
            "max": 11
          },
          "conditionalOn": {
            "field": "age",
            "value": 0
          },
          "query": "What is the patient's age in months?"
        },
        "sex": {
          "region": {
            "x": 0.623,
            "y": 0.609,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Sex (assigned at birth)",
          "type": "checkbox",
          "options": [
            {
              "value": "Male",
              "checkbox": {
                "x": 0.16,
                "y": 0.335,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.18,
                "y": 0.335,
                "text": "Male"
              }
            },
            {
              "value": "Female",
              "checkbox": {
                "x": 0.26,
                "y": 0.335,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.28,
                "y": 0.335,
                "text": "Female"
              }
            }
          ],
          "required": true,
          "priority": 1,
          "extractionMethod": "checkbox-detection",
          "query": "What is the patient's sex assigned at birth - Male or Female?"
        },
        "genderIdentity": {
          "region": {
            "x": 0.623,
            "y": 0.625,
            "width": 0.15,
            "height": 0.009
          },
          "label": "Gender Identity",
          "type": "checkbox",
          "options": [
            {
              "value": "Man",
              "checkbox": {
                "x": 0.16,
                "y": 0.35,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.18,
                "y": 0.35,
                "text": "Man"
              }
            },
            {
              "value": "Woman",
              "checkbox": {
                "x": 0.26,
                "y": 0.35,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.28,
                "y": 0.35,
                "text": "Woman"
              }
            },
            {
              "value": "Other",
              "checkbox": {
                "x": 0.36,
                "y": 0.35,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.38,
                "y": 0.35,
                "text": "Other (Specify)"
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-detection",
          "query": "what is the patient's gender identity - Man, Woman, or Other?(Specify)"
        },
        "currentResidenceCity": {
          "region": {
            "x": 0.45,
            "y": 0.624,
            "width": 0.068,
            "height": 0.009
          },
          "label": "Current Residence - City/Municipality",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.365,
            "text": "Current Place of Residence:"
          }
        },
        "currentResidenceProvince": {
          "region": {
            "x": 0.716,
            "y": 0.626,
            "width": 0.093,
            "height": 0.013
          },
          "label": "Current Residence - Province",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.62,
            "y": 0.365,
            "text": "Province:"
          }
        },
        "permanentResidenceCity": {
          "region": {
            "x": 0.448,
            "y": 0.637,
            "width": 0.053,
            "height": 0.012
          },
          "label": "Permanent Residence - City/Municipality",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.395,
            "text": "Permanent Residence:"
          }
        },
        "permanentResidenceProvince": {
          "region": {
            "x": 0.718,
            "y": 0.638,
            "width": 0.104,
            "height": 0.012
          },
          "label": "Permanent Residence - Province",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field"
        },
        "placeOfBirthCity": {
          "region": {
            "x": 0.448,
            "y": 0.637,
            "width": 0.053,
            "height": 0.012
          },
          "label": "Place of Birth - City/Municipality",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.425,
            "text": "Place of Birth:"
          }
        },
        "placeOfBirthProvince": {
          "region": {
            "x": 0.716,
            "y": 0.626,
            "width": 0.093,
            "height": 0.013
          },
          "label": "Place of Birth - Province",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field"
        },
        "nationality": {
          "region": {
            "x": 0.623,
            "y": 0.609,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Nationality",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "Filipino",
              "checkbox": {
                "x": 0.13,
                "y": 0.455,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.15,
                "y": 0.455,
                "text": "Filipino"
              }
            },
            {
              "value": "Other",
              "checkbox": {
                "x": 0.24,
                "y": 0.455,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.26,
                "y": 0.455,
                "text": "Other, please specify:"
              },
              "textField": {
                "x": 0.45,
                "y": 0.455,
                "width": 0.3,
                "height": 0.025
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-with-text",
          "query": "What is the patient's nationality?"
        },
        "nationalityOther": {
          "region": {
            "x": 0.45,
            "y": 0.455,
            "width": 0.3,
            "height": 0.025
          },
          "label": "Nationality - Other (specify)",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "conditionalOn": {
            "field": "nationality",
            "value": "Other"
          },
          "query": "What is the patient's nationality if not Filipino?"
        },
        "civilStatus": {
          "region": {
            "x": 0.258,
            "y": 0.692,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Civil Status",
          "type": "checkbox",
          "options": [
            {
              "value": "Single",
              "checkbox": {
                "x": 0.2,
                "y": 0.485,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.22,
                "y": 0.485,
                "text": "Single"
              }
            },
            {
              "value": "Married",
              "checkbox": {
                "x": 0.3,
                "y": 0.485,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.32,
                "y": 0.485,
                "text": "Married"
              }
            },
            {
              "value": "Separated",
              "checkbox": {
                "x": 0.42,
                "y": 0.485,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.44,
                "y": 0.485,
                "text": "Separated"
              }
            },
            {
              "value": "Widowed",
              "checkbox": {
                "x": 0.56,
                "y": 0.485,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.58,
                "y": 0.485,
                "text": "Widowed"
              }
            },
            {
              "value": "Divorced",
              "checkbox": {
                "x": 0.7,
                "y": 0.485,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.72,
                "y": 0.485,
                "text": "Divorced"
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-detection",
          "query": "What is the patient's civil status - Single, Married, Separated, Widowed, or Divorced?"
        },
        "livingWithPartner": {
          "region": {
            "x": 0.397,
            "y": 0.71,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Currently living with a partner",
          "type": "checkbox",
          "options": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.32,
                "y": 0.515,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.34,
                "y": 0.515,
                "text": "No"
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.4,
                "y": 0.515,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.42,
                "y": 0.515,
                "text": "Yes"
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection"
        },
        "numberOfChildren": {
          "region": {
            "x": 0.68,
            "y": 0.515,
            "width": 0.08,
            "height": 0.025
          },
          "label": "Number of children",
          "type": "number",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.52,
            "y": 0.515,
            "text": "Number of children:"
          }
        },
        "isPregnant": {
          "region": {
            "x": 0.397,
            "y": 0.71,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Currently pregnant (for female only)",
          "type": "checkbox",
          "options": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.56,
                "y": 0.545,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.58,
                "y": 0.545,
                "text": "No"
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.64,
                "y": 0.545,
                "width": 0.015,
                "height": 0.015
              },
              "label": {
                "x": 0.66,
                "y": 0.545,
                "text": "Yes"
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection",
          "conditionalOn": {
            "field": "sex",
            "value": "Female"
          }
        },
        "educationalAttainment": {
          "region": {
            "x": 0.647,
            "y": 0.777,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Highest Educational Attainment",
          "type": "checkbox",
          "options": [
            {
              "value": "No schooling",
              "checkbox": {
                "x": 0.26,
                "y": 0.595,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Elementary",
              "checkbox": {
                "x": 0.4,
                "y": 0.595,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Pre-school",
              "checkbox": {
                "x": 0.55,
                "y": 0.595,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Highschool",
              "checkbox": {
                "x": 0.68,
                "y": 0.595,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Vocational",
              "checkbox": {
                "x": 0.82,
                "y": 0.595,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "College",
              "checkbox": {
                "x": 0.68,
                "y": 0.615,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Post-Graduate",
              "checkbox": {
                "x": 0.82,
                "y": 0.615,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection"
        },
        "currentlyInSchool": {
          "region": {
            "x": 0.397,
            "y": 0.71,
            "width": 0.012,
            "height": 0.009
          },
          "label": "Currently in school",
          "type": "checkbox",
          "options": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.32,
                "y": 0.645,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.4,
                "y": 0.645,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection"
        },
        "currentlyWorking": {
          "region": {
            "x": 0.335,
            "y": 0.791,
            "width": 0.016,
            "height": 0.007
          },
          "label": "Currently working",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.16,
                "y": 0.69,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.25,
                "y": 0.69,
                "width": 0.015,
                "height": 0.015
              },
              "textField": {
                "label": "Current occupation (main source of income)",
                "x": 0.28,
                "y": 0.69,
                "width": 0.65,
                "height": 0.025
              }
            },
            {
              "value": "Previous",
              "checkbox": {
                "x": 0.16,
                "y": 0.715,
                "width": 0.015,
                "height": 0.015
              },
              "textField": {
                "label": "Previous occupation in the past 12 months",
                "x": 0.28,
                "y": 0.715,
                "width": 0.65,
                "height": 0.025
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-with-text"
        },
        "workedOverseas": {
          "region": {
            "x": 0.336,
            "y": 0.418,
            "width": 0.071,
            "height": 0.009
          },
          "label": "Worked overseas/abroad in past 5 years",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.52,
                "y": 0.765,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.6,
                "y": 0.765,
                "width": 0.015,
                "height": 0.015
              },
              "subFields": {
                "returnYear": {
                  "label": "Year of return from last contract",
                  "x": 0.7,
                  "y": 0.775,
                  "width": 0.15,
                  "height": 0.025
                },
                "location": {
                  "label": "Where were you based",
                  "checkboxes": [
                    {
                      "value": "On a ship",
                      "checkbox": {
                        "x": 0.28,
                        "y": 0.8,
                        "width": 0.015,
                        "height": 0.015
                      }
                    },
                    {
                      "value": "Land",
                      "checkbox": {
                        "x": 0.4,
                        "y": 0.8,
                        "width": 0.015,
                        "height": 0.015
                      }
                    }
                  ]
                },
                "country": {
                  "label": "What country did you last work in",
                  "x": 0.42,
                  "y": 0.815,
                  "width": 0.5,
                  "height": 0.025
                }
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-with-nested-fields"
        },
        "contactNumber": {
          "label": "Contact Number",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What are the contact numbers for the patient?"
        },
        "emailAddress": {
          "label": "Email Address",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the email address of the patient?"
        },
        "parentalCodeMother": {
          "label": "Mother's First Name (First 2 letters)",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What are the first 2 letters of mother's first name?"
        },
        "occupation": {
          "label": "Occupation",
          "type": "text",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "What is the patient's current or previous occupation?"
        },
        "overseasReturnYear": {
          "label": "Overseas Return Year",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If the patient worked overseas, what year did they return from their last contract?"
        },
        "overseasLocation": {
          "label": "Overseas Location",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "Where was the patient based while working overseas - on a ship or on land?"
        },
        "overseasCountry": {
          "label": "Overseas Country",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What country did the patient last work in while overseas?"
        }
      }
    },
    "back": {
      "page": 2,
      "fields": {
        "riskAssessment": {
          "region": {
            "x": 0.302,
            "y": 0.15,
            "width": 0.431,
            "height": 0.2
          },
          "label": "History of Exposure / Risk Assessment",
          "type": "checkboxMultiple",
          "sections": [
            {
              "label": "Sex with a MALE",
              "options": [
                {
                  "value": "No",
                  "checkbox": {
                    "x": 0.28,
                    "y": 0.145,
                    "width": 0.015,
                    "height": 0.015
                  }
                },
                {
                  "value": "Yes",
                  "checkbox": {
                    "x": 0.32,
                    "y": 0.145,
                    "width": 0.015,
                    "height": 0.015
                  },
                  "subFields": {
                    "totalNumber": {
                      "x": 0.38,
                      "y": 0.145,
                      "width": 0.08,
                      "height": 0.025
                    },
                    "dateRecent": {
                      "x": 0.72,
                      "y": 0.145,
                      "width": 0.2,
                      "height": 0.025
                    }
                  }
                }
              ]
            },
            {
              "label": "Sex with a FEMALE",
              "options": [
                {
                  "value": "No",
                  "checkbox": {
                    "x": 0.28,
                    "y": 0.17,
                    "width": 0.015,
                    "height": 0.015
                  }
                },
                {
                  "value": "Yes",
                  "checkbox": {
                    "x": 0.32,
                    "y": 0.17,
                    "width": 0.015,
                    "height": 0.015
                  },
                  "subFields": {
                    "totalNumber": {
                      "x": 0.38,
                      "y": 0.17,
                      "width": 0.08,
                      "height": 0.025
                    },
                    "dateRecent": {
                      "x": 0.72,
                      "y": 0.17,
                      "width": 0.2,
                      "height": 0.025
                    }
                  }
                }
              ]
            },
            {
              "label": "Paid for sex (in cash or kind)",
              "checkbox": {
                "x": 0.28,
                "y": 0.23,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.23,
                "width": 0.2,
                "height": 0.025
              }
            },
            {
              "label": "Received payment (cash or in kind) in exchange for sex",
              "checkbox": {
                "x": 0.28,
                "y": 0.255,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.255,
                "width": 0.2,
                "height": 0.025
              }
            },
            {
              "label": "Had sex under the influence of drugs",
              "checkbox": {
                "x": 0.28,
                "y": 0.28,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.28,
                "width": 0.2,
                "height": 0.025
              }
            },
            {
              "label": "Shared needles in injection of drugs",
              "checkbox": {
                "x": 0.28,
                "y": 0.305,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.305,
                "width": 0.2,
                "height": 0.025
              }
            },
            {
              "label": "Received blood transfusion",
              "checkbox": {
                "x": 0.28,
                "y": 0.33,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.33,
                "width": 0.2,
                "height": 0.025
              }
            },
            {
              "label": "Occupational exposure (needlestick/sharps)",
              "checkbox": {
                "x": 0.28,
                "y": 0.355,
                "width": 0.015,
                "height": 0.015
              },
              "dateField": {
                "x": 0.72,
                "y": 0.355,
                "width": 0.2,
                "height": 0.025
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-matrix-with-dates"
        },
        "reasonsForTesting": {
          "region": {
            "x": 0.084,
            "y": 0.35,
            "width": 0.687,
            "height": 0.07
          },
          "label": "Reasons for HIV Testing",
          "type": "checkboxMultiple",
          "options": [
            {
              "value": "Possible exposure to HIV",
              "checkbox": {
                "x": 0.16,
                "y": 0.41,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Employment - Overseas/Abroad",
              "checkbox": {
                "x": 0.4,
                "y": 0.41,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Requirement for insurance",
              "checkbox": {
                "x": 0.74,
                "y": 0.41,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Recommended by physician/nurse/midwife",
              "checkbox": {
                "x": 0.16,
                "y": 0.435,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Employment - Local/Philippines",
              "checkbox": {
                "x": 0.4,
                "y": 0.435,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Other (please specify)",
              "checkbox": {
                "x": 0.74,
                "y": 0.435,
                "width": 0.015,
                "height": 0.015
              },
              "textField": {
                "x": 0.82,
                "y": 0.435,
                "width": 0.15,
                "height": 0.02
              }
            },
            {
              "value": "Planned a text message/email encouraging me to get an HIV test",
              "checkbox": {
                "x": 0.16,
                "y": 0.455,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-multiple-with-text"
        },
        "previouslyTested": {
          "region": {
            "x": 0.31,
            "y": 0.166,
            "width": 0.015,
            "height": 0.007
          },
          "label": "Have you ever been tested for HIV before",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "No",
              "checkbox": {
                "x": 0.28,
                "y": 0.505,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Yes",
              "checkbox": {
                "x": 0.35,
                "y": 0.505,
                "width": 0.015,
                "height": 0.015
              },
              "subFields": {
                "testDate": {
                  "label": "If yes, date of most recent test",
                  "x": 0.48,
                  "y": 0.505,
                  "width": 0.15,
                  "height": 0.025
                },
                "facility": {
                  "label": "Which HTS provider (facility or organization)",
                  "x": 0.52,
                  "y": 0.525,
                  "width": 0.4,
                  "height": 0.025
                },
                "city": {
                  "label": "City/Municipality",
                  "x": 0.52,
                  "y": 0.525,
                  "width": 0.2,
                  "height": 0.015
                }
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-with-nested-fields"
        },
        "previousTestResult": {
          "region": {
            "x": 0.412,
            "y": 0.46,
            "width": 0.066,
            "height": 0.007
          },
          "label": "What was the result",
          "type": "checkbox",
          "options": [
            {
              "value": "Reactive",
              "checkbox": {
                "x": 0.24,
                "y": 0.535,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Non-reactive",
              "checkbox": {
                "x": 0.35,
                "y": 0.535,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Indeterminate",
              "checkbox": {
                "x": 0.48,
                "y": 0.535,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Was not able to get result",
              "checkbox": {
                "x": 0.63,
                "y": 0.535,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-detection"
        },
        "medicalHistory": {
          "region": {
            "x": 0.608,
            "y": 0.51,
            "width": 0.212,
            "height": 0.03
          },
          "label": "Medical History",
          "type": "checkboxMultiple",
          "options": [
            {
              "value": "Current TB patient",
              "checkbox": {
                "x": 0.16,
                "y": 0.6,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Diagnosed with other STIs",
              "checkbox": {
                "x": 0.38,
                "y": 0.6,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Taken PEP",
              "checkbox": {
                "x": 0.64,
                "y": 0.6,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "With hepatitis B",
              "checkbox": {
                "x": 0.16,
                "y": 0.62,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "With hepatitis C",
              "checkbox": {
                "x": 0.38,
                "y": 0.62,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Taking PrEP",
              "checkbox": {
                "x": 0.64,
                "y": 0.62,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-multiple"
        },
        "clinicalPicture": {
          "region": {
            "x": 0.259,
            "y": 0.545,
            "width": 0.077,
            "height": 0.009
          },
          "label": "Clinical Picture",
          "type": "checkbox",
          "options": [
            {
              "value": "Asymptomatic",
              "checkbox": {
                "x": 0.24,
                "y": 0.655,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Symptomatic",
              "checkbox": {
                "x": 0.38,
                "y": 0.655,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection"
        },
        "symptoms": {
          "region": {
            "x": 0.28,
            "y": 0.675,
            "width": 0.65,
            "height": 0.025
          },
          "label": "Describe Signs/Symptoms",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.16,
            "y": 0.675,
            "text": "Describe S/Sx:"
          }
        },
        "whoStaging": {
          "region": {
            "x": 0.56,
            "y": 0.695,
            "width": 0.38,
            "height": 0.025
          },
          "label": "WHO Staging",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "No physician to do staging",
              "checkbox": {
                "x": 0.56,
                "y": 0.695,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-with-text"
        },
        "clientType": {
          "region": {
            "x": 0.372,
            "y": 0.603,
            "width": 0.012,
            "height": 0.008
          },
          "label": "Client type",
          "type": "checkbox",
          "options": [
            {
              "value": "Inpatient",
              "checkbox": {
                "x": 0.24,
                "y": 0.74,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Walk-in/outpatient",
              "checkbox": {
                "x": 0.38,
                "y": 0.74,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Persons Deprived of Liberty (PDL)",
              "checkbox": {
                "x": 0.6,
                "y": 0.74,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Mobile HTS / Outreach in physical venues. Specify venue.",
              "checkbox": {
                "x": 0.24,
                "y": 0.76,
                "width": 0.015,
                "height": 0.015
              },
              "textField": {
                "x": 0.62,
                "y": 0.76,
                "width": 0.3,
                "height": 0.02
              }
            }
          ],
          "required": false,
          "priority": 2,
          "extractionMethod": "checkbox-with-text"
        },
        "modeOfReach": {
          "region": {
            "x": 0.722,
            "y": 0.644,
            "width": 0.152,
            "height": 0.01
          },
          "label": "Mode of reach",
          "type": "checkboxMultiple",
          "options": [
            {
              "value": "Clinical reach",
              "checkbox": {
                "x": 0.28,
                "y": 0.79,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Online",
              "checkbox": {
                "x": 0.42,
                "y": 0.79,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Index testing",
              "checkbox": {
                "x": 0.52,
                "y": 0.79,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Social and sexual network testing",
              "checkbox": {
                "x": 0.68,
                "y": 0.79,
                "width": 0.015,
                "height": 0.015
              }
            },
            {
              "value": "Outreach in physical venues",
              "checkbox": {
                "x": 0.72,
                "y": 0.81,
                "width": 0.015,
                "height": 0.015
              }
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-multiple"
        },
        "testingAccepted": {
          "region": {
            "x": 0.084,
            "y": 0.67,
            "width": 0.74,
            "height": 0.02
          },
          "label": "HIV Testing Status",
          "type": "mixed",
          "checkboxes": [
            {
              "value": "Refused HIV Testing",
              "checkbox": {
                "x": 0.16,
                "y": 0.84,
                "width": 0.015,
                "height": 0.015
              },
              "textField": {
                "label": "Reason for refusal",
                "x": 0.3,
                "y": 0.84,
                "width": 0.6,
                "height": 0.02
              }
            },
            {
              "value": "Accepted HIV Testing",
              "checkbox": {
                "x": 0.16,
                "y": 0.86,
                "width": 0.015,
                "height": 0.015
              },
              "subFields": {
                "modality": {
                  "label": "HIV testing modality",
                  "checkboxes": [
                    {
                      "value": "Facility-based testing (FBT)",
                      "checkbox": {
                        "x": 0.28,
                        "y": 0.865,
                        "width": 0.015,
                        "height": 0.015
                      }
                    },
                    {
                      "value": "Non-laboratory FBT",
                      "checkbox": {
                        "x": 0.52,
                        "y": 0.865,
                        "width": 0.015,
                        "height": 0.015
                      }
                    },
                    {
                      "value": "Community-based",
                      "checkbox": {
                        "x": 0.74,
                        "y": 0.865,
                        "width": 0.015,
                        "height": 0.015
                      }
                    },
                    {
                      "value": "Self-testing",
                      "checkbox": {
                        "x": 0.88,
                        "y": 0.865,
                        "width": 0.015,
                        "height": 0.015
                      }
                    }
                  ]
                }
              }
            }
          ],
          "required": true,
          "priority": 2,
          "extractionMethod": "checkbox-with-nested-fields"
        },
        "testingModality": {
          "region": {
            "x": 0.28,
            "y": 0.865,
            "width": 0.65,
            "height": 0.015
          },
          "label": "HIV Testing Modality",
          "type": "checkbox",
          "options": [
            {
              "value": "Facility-based testing (FBT)"
            },
            {
              "value": "Non-laboratory FBT"
            },
            {
              "value": "Community-based"
            },
            {
              "value": "Self-testing"
            }
          ],
          "required": false,
          "priority": 3,
          "extractionMethod": "checkbox-detection",
          "query": "What HIV testing modality was used - Facility-based, Non-laboratory, Community-based, or Self-testing?"
        },
        "linkageToCare": {
          "region": {
            "x": 0.1,
            "y": 0.88,
            "width": 0.8,
            "height": 0.02
          },
          "label": "Linkage to Care Plan",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "query": "What is the linkage to care plan for the patient after testing? - Refer to ART, Advised for retesting, Refer for Confirmatory Testing, or Suggested date:(MM/DD/YYYY)"
        },
        "otherServices": {
          "region": {
            "x": 0.1,
            "y": 0.9,
            "width": 0.8,
            "height": 0.02
          },
          "label": "Other Services Provided to Client",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "query": "What are the other services provided to client?"
        },
        "testKitBrand": {
          "region": {
            "x": 0.72,
            "y": 0.91,
            "width": 0.25,
            "height": 0.025
          },
          "label": "Brand of test kit used",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.58,
            "y": 0.91,
            "text": "Brand of test kit used:"
          }
        },
        "testKitLotNumber": {
          "region": {
            "x": 0.72,
            "y": 0.935,
            "width": 0.25,
            "height": 0.025
          },
          "label": "Lot Number",
          "type": "text",
          "required": false,
          "priority": 4,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.58,
            "y": 0.935,
            "text": "Test kit lot number:"
          }
        },
        "testKitExpiration": {
          "region": {
            "x": 0.72,
            "y": 0.96,
            "width": 0.25,
            "height": 0.025
          },
          "label": "Expiration date",
          "type": "date",
          "format": "MM/DD/YYYY",
          "required": false,
          "priority": 4,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.58,
            "y": 0.96,
            "text": "Test kit expiry (MM/DD/YYYY):"
          }
        },
        "testingFacility": {
          "region": {
            "x": 0.514,
            "y": 0.816,
            "width": 0.184,
            "height": 0.013
          },
          "label": "Name of Testing Facility/Organization",
          "type": "text",
          "required": true,
          "priority": 2,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.985,
            "text": "Name of Testing Facility/Organization:"
          },
          "expectedValues": [
            "LoveYourself Inc.",
            "LoveYourself Inc. (Bagani)"
          ]
        },
        "facilityAddress": {
          "region": {
            "x": 0.339,
            "y": 0.83,
            "width": 0.509,
            "height": 0.015
          },
          "label": "Complete Mailing Address",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 0.998,
            "text": "Complete Mailing Address:"
          }
        },
        "facilityContactNumber": {
          "region": {
            "x": 0.339,
            "y": 0.847,
            "width": 0.09,
            "height": 0.01
          },
          "label": "Facility Contact Numbers",
          "type": "text",
          "pattern": "^09\\d{9}$",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 1.01,
            "text": "Contact Numbers:"
          },
          "query": "What are the contact numbers for the testing facility?"
        },
        "facilityEmail": {
          "region": {
            "x": 0.686,
            "y": 0.851,
            "width": 0.124,
            "height": 0.011
          },
          "label": "Facility Email Address",
          "type": "email",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.45,
            "y": 1.01,
            "text": "Email address:"
          },
          "query": "What is the email address of the testing facility?"
        },
        "counselorName": {
          "region": {
            "x": 0.514,
            "y": 0.816,
            "width": 0.121,
            "height": 0.011
          },
          "label": "Name of service provider",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "form-field",
          "nearbyLabel": {
            "x": 0.05,
            "y": 1.025,
            "text": "Primary HTS provider:"
          }
        },
        "counselorRole": {
          "region": {
            "x": 0.3,
            "y": 0.815,
            "width": 0.6,
            "height": 0.015
          },
          "label": "Role",
          "type": "checkbox",
          "options": [
            {
              "value": "HIV Counselor",
              "checkbox": {
                "x": 0.28,
                "y": 0.815,
                "width": 0.012,
                "height": 0.012
              }
            },
            {
              "value": "Medical Technologist",
              "checkbox": {
                "x": 0.42,
                "y": 0.815,
                "width": 0.012,
                "height": 0.012
              }
            },
            {
              "value": "CBS Motivator",
              "checkbox": {
                "x": 0.64,
                "y": 0.815,
                "width": 0.012,
                "height": 0.012
              }
            },
            {
              "value": "Others",
              "checkbox": {
                "x": 0.78,
                "y": 0.815,
                "width": 0.012,
                "height": 0.012
              }
            }
          ],
          "required": false,
          "priority": 4,
          "extractionMethod": "checkbox-detection"
        },
        "counselorSignature": {
          "region": {
            "x": 0.28,
            "y": 1.051,
            "width": 0.4,
            "height": 0.04
          },
          "label": "Name & Signature of service provider",
          "type": "signature",
          "required": false,
          "priority": 4,
          "extractionMethod": "signature-detection"
        },
        "motherHIV": {
          "label": "Mother's HIV Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Is the mother of the patient known to have HIV?"
        },
        "riskSexMaleStatus": {
          "label": "Sex with Male - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient had sex with a male partner? Answer Yes or No"
        },
        "riskSexMaleTotal": {
          "label": "Sex with Male - Total",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with male, what is the total number?"
        },
        "riskSexMaleDate1": {
          "label": "Sex with Male - Date 1",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with male, what is the first date in MM/YYYY format?"
        },
        "riskSexMaleDate2": {
          "label": "Sex with Male - Date 2",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with male, what is the second date in MM/YYYY format?"
        },
        "riskSexFemaleStatus": {
          "label": "Sex with Female - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient had sex with a female partner? Answer Yes or No"
        },
        "riskSexFemaleTotal": {
          "label": "Sex with Female - Total",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with female, what is the total number?"
        },
        "riskSexFemaleDate1": {
          "label": "Sex with Female - Date 1",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with female, what is the first date in MM/YYYY format?"
        },
        "riskSexFemaleDate2": {
          "label": "Sex with Female - Date 2",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex with female, what is the second date in MM/YYYY format?"
        },
        "riskPaidForSexStatus": {
          "label": "Paid for Sex - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient paid for sex in cash or kind? Answer Yes or No"
        },
        "riskPaidForSexDate": {
          "label": "Paid for Sex - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to paid for sex, what is the date in MM/YYYY format?"
        },
        "riskReceivedPaymentStatus": {
          "label": "Received Payment for Sex - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient received payment for sex? Answer Yes or No"
        },
        "riskReceivedPaymentDate": {
          "label": "Received Payment - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to received payment, what is the date in MM/YYYY format?"
        },
        "riskSexUnderDrugsStatus": {
          "label": "Sex Under Drugs - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient had sex under the influence of drugs? Answer Yes or No"
        },
        "riskSexUnderDrugsDate": {
          "label": "Sex Under Drugs - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to sex under drugs, what is the date in MM/YYYY format?"
        },
        "riskSharedNeedlesStatus": {
          "label": "Shared Needles - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient shared needles for drug injection? Answer Yes or No"
        },
        "riskSharedNeedlesDate": {
          "label": "Shared Needles - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to shared needles, what is the date in MM/YYYY format?"
        },
        "riskBloodTransfusionStatus": {
          "label": "Blood Transfusion - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient received blood transfusion? Answer Yes or No"
        },
        "riskBloodTransfusionDate": {
          "label": "Blood Transfusion - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to blood transfusion, what is the date in MM/YYYY format?"
        },
        "riskOccupationalExposureStatus": {
          "label": "Occupational Exposure - Status",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient had occupational exposure to needlestick or sharps? Answer Yes or No"
        },
        "riskOccupationalExposureDate": {
          "label": "Occupational Exposure - Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If yes to occupational exposure, what is the date in MM/YYYY format?"
        },
        "previousTestDate": {
          "label": "Previous Test Date",
          "type": "date",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "If yes, when was the previous HIV test date?"
        },
        "previousTestProvider": {
          "label": "Previous Test Provider",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "Which HTS provider or facility conducted the previous test?"
        },
        "previousTestCity": {
          "label": "Previous Test City",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "In what city or municipality was the previous test conducted?"
        },
        "medicalTB": {
          "label": "Current TB Patient",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Is the patient a current TB patient?"
        },
        "medicalSTI": {
          "label": "Other STIs",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient been diagnosed with other STIs?"
        },
        "medicalPEP": {
          "label": "Taken PEP",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Has the patient taken PEP (Post-Exposure Prophylaxis)?"
        },
        "medicalPrEP": {
          "label": "Taking PrEP",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Is the patient currently taking PrEP (Pre-Exposure Prophylaxis)?"
        },
        "medicalHepatitisB": {
          "label": "Hepatitis B",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Does the patient have hepatitis B?"
        },
        "medicalHepatitisC": {
          "label": "Hepatitis C",
          "type": "checkbox",
          "required": false,
          "priority": 2,
          "extractionMethod": "query-only",
          "query": "Does the patient have hepatitis C?"
        },
        "testingRefusedReason": {
          "label": "Refusal Reason",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "If testing was refused, what was the reason?"
        },
        "facilityCode": {
          "label": "Facility Code",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the facility code or identifier?"
        },
        "facilityRegion": {
          "label": "Facility Region",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What region is the testing facility located in?"
        },
        "facilityProvince": {
          "label": "Facility Province",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What province is the testing facility located in?"
        },
        "facilityCity": {
          "label": "Facility City",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What city or municipality is the testing facility located in?"
        },
        "formCompletionDate": {
          "label": "Form Completion Date",
          "type": "date",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the date when the form was completed?"
        },
        "counselorLicense": {
          "label": "Counselor License",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the license number of the counselor or service provider?"
        },
        "counselorDesignation": {
          "label": "Counselor Designation",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the designation or position of the service provider?"
        },
        "counselorContact": {
          "label": "Counselor Contact",
          "type": "text",
          "required": false,
          "priority": 3,
          "extractionMethod": "query-only",
          "query": "What is the contact number of the service provider?"
        }
      }
    }
  },
  "extractionStrategies": {
    "form-field": {
      "description": "Extract text from defined rectangular region",
      "method": "textract-key-value",
      "fallback": "textract-raw-text"
    },
    "checkbox-detection": {
      "description": "Detect if checkbox is marked (dark pixel analysis)",
      "method": "selection-element",
      "threshold": 0.3,
      "fallback": "pixel-analysis"
    },
    "checkbox-multiple": {
      "description": "Multiple checkboxes can be selected",
      "method": "selection-element-array",
      "allowMultiple": true
    },
    "checkbox-with-text": {
      "description": "Checkbox with associated text field",
      "method": "conditional-extraction",
      "extractTextIf": "checkbox-selected"
    },
    "checkbox-with-nested-fields": {
      "description": "Checkbox that reveals sub-fields when selected",
      "method": "conditional-extraction",
      "extractSubFieldsIf": "checkbox-selected"
    },
    "signature-detection": {
      "description": "Detect presence of signature",
      "method": "signature-analysis",
      "returnPresence": true
    },
    "date-field": {
      "description": "Extract date with format validation",
      "method": "textract-key-value",
      "validation": "date-format",
      "formats": [
        "MM/DD/YYYY",
        "DD/MM/YYYY"
      ]
    }
  },
  "validationRules": {
    "requiredFields": [
      "testDate",
      "firstName",
      "lastName",
      "birthDate",
      "sex",
      "testingAccepted",
      "testingFacility"
    ],
    "confidenceThreshold": 0.8,
    "crossFieldValidation": [
      {
        "rule": "ageMatchesBirthDate",
        "fields": [
          "age",
          "birthDate"
        ],
        "tolerance": 1
      },
      {
        "rule": "testDateAfterBirthDate",
        "fields": [
          "testDate",
          "birthDate"
        ]
      },
      {
        "rule": "previousTestDateBeforeTestDate",
        "fields": [
          "previousTestDate",
          "testDate"
        ]
      }
    ]
  },
  "extractionNotes": [
    "OCR mapping uses relative coordinates (0-1 scale) for resolution independence",
    "Coordinates are measured from top-left (0,0) to bottom-right (1,1)",
    "Checkbox detection uses pixel analysis: >30% dark pixels = checked",
    "Form has 27 questions: Q1-16 (front), Q17-27 (back)",
    "Multiple extraction strategies support different field types",
    "Conditional fields only extracted when parent checkbox is selected",
    "Text normalization: CAPITAL LETTERS typical for handwritten entries",
    "Date formats: Primary MM/DD/YYYY, fallback DD/MM/YYYY",
    "Testing facility expected: 'LoveYourself Inc.' or 'LoveYourself Inc. (Bagani)'"
  ],
  "lastUpdated": "2025-12-03",
  "mappingVersion": "2.0-ocr-enhanced"
}